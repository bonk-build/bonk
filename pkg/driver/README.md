<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# driver

```go
import "go.bonk.build/pkg/driver"
```

Package driver provides an interface for defining a driver to perform a bonk pipeline's work.

## Index

- [func Run\(ctx context.Context, options Options\) error](<#Run>)
- [type Options](<#Options>)
  - [func MakeDefaultOptions\(\) Options](<#MakeDefaultOptions>)
  - [func \(opts Options\) WithConcurrency\(concurrency int\) Options](<#Options.WithConcurrency>)
  - [func \(opts Options\) WithExecutor\(name string, exec executor.Executor\) Options](<#Options.WithExecutor>)
  - [func \(opts Options\) WithLocalSession\(path string, tasks ...\*task.Task\) Options](<#Options.WithLocalSession>)
  - [func \(opts Options\) WithObservers\(observers ...observable.Observer\) Options](<#Options.WithObservers>)
  - [func \(opts Options\) WithPlugins\(plugins ...string\) Options](<#Options.WithPlugins>)
- [type SessionOption](<#SessionOption>)


<a name="Run"></a>
## func [Run](<driver.go#L22>)

```go
func Run(ctx context.Context, options Options) error
```



<a name="Options"></a>
## type [Options](<options.go#L12-L18>)



```go
type Options struct {
    Concurrency int
    Plugins     []string
    Executors   map[string]executor.Executor
    Sessions    map[task.Session][]*task.Task
    Observers   []observable.Observer
}
```

<a name="MakeDefaultOptions"></a>
### func [MakeDefaultOptions](<options.go#L20>)

```go
func MakeDefaultOptions() Options
```



<a name="Options.WithConcurrency"></a>
### func \(Options\) [WithConcurrency](<options.go#L29>)

```go
func (opts Options) WithConcurrency(concurrency int) Options
```



<a name="Options.WithExecutor"></a>
### func \(Options\) [WithExecutor](<options.go#L36>)

```go
func (opts Options) WithExecutor(name string, exec executor.Executor) Options
```

WithExecutor registers the given executor.

<a name="Options.WithLocalSession"></a>
### func \(Options\) [WithLocalSession](<options.go#L53>)

```go
func (opts Options) WithLocalSession(path string, tasks ...*task.Task) Options
```

WithLocalSession creates a \[task.LocalSession\] with the given options.

<a name="Options.WithObservers"></a>
### func \(Options\) [WithObservers](<options.go#L61>)

```go
func (opts Options) WithObservers(observers ...observable.Observer) Options
```

WithObservers adds observers to the execution pipeline.

<a name="Options.WithPlugins"></a>
### func \(Options\) [WithPlugins](<options.go#L43>)

```go
func (opts Options) WithPlugins(plugins ...string) Options
```

WithPlugins loads the specified plugins.

<a name="SessionOption"></a>
## type [SessionOption](<options.go#L50>)

SessionOption is a functor for modifying a \[task.Session\].

```go
type SessionOption = func(Options, task.Session)
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
