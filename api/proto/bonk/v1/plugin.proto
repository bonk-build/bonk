// Copyright Â© 2025 Colden Cullen
// SPDX-License-Identifier: MIT

edition = "2023";
package bonk.v1;

import "google/protobuf/struct.proto";

option features.field_presence = EXPLICIT;

message ConfigurePluginRequest {}

message ConfigurePluginResponse {
  message BackendDescription {
    repeated string outputs = 1;
  }

  map<string, BackendDescription> backends = 1;
}

message PerformTaskRequest {
  string backend = 1;

  repeated string inputs = 2;
  google.protobuf.Value parameters = 3;
  string out_directory = 4;
}

message PerformTaskResponse {}

service BonkPluginService {
  rpc ConfigurePlugin(ConfigurePluginRequest) returns (ConfigurePluginResponse);

  rpc PerformTask(PerformTaskRequest) returns (PerformTaskResponse);
}
