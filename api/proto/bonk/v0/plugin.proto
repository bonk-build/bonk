// Copyright Â© 2025 Colden Cullen
// SPDX-License-Identifier: MIT

edition = "2023";
package bonk.v0;

import "google/protobuf/struct.proto";

message DescribeExecutorsRequest {}

message DescribeExecutorsResponse {
  message ExecutorDescription {}

  map<string, ExecutorDescription> executors = 1;
}

message ExecuteTaskRequest {
  string executor = 1;

  repeated string inputs = 2;
  google.protobuf.Struct parameters = 3;
  string out_directory = 4;
}

message ExecuteTaskResponse {
  repeated string output = 1;
}

service ExecutorService {
  // General plugin support
  rpc DescribeExecutors(DescribeExecutorsRequest) returns (DescribeExecutorsResponse);

  // Executor interface
  rpc ExecuteTask(ExecuteTaskRequest) returns (ExecuteTaskResponse);
}
