# Copyright Â© 2025 Colden Cullen
# SPDX-License-Identifier: MIT

[settings]
experimental = true
all_compile = false

[env]
CGO_ENABLED = 1
PRE_COMMIT_HOME = "{{ env.MISE_DATA_DIR | default(value=xdg_data_home ~ '/mise') }}/pre-commit-hooks"

[tools]
# Languages
go = "1.25.5"
python = "3.14.2"
uv = "0.9.24"
buf = "1.63.0"
# Developer tools
"ubi:vektra/mockery" = "3.6.1"
github-cli = "2.83.2"
"pipx:pre-commit" = "4.5.1"
golangci-lint = "2.8.0"
"ubi:korandoru/hawkeye" = "6.4.0"
"pipx:commitizen" = "4.11.2"
# Docs
"pipx:zensical" = "0.0.15"

[tasks]
generate.run = "go generate ./..."
build.run = "go build ./..."
test.run = "go test ./... -race -count 100 -parallel 8"
lint.run = ["golangci-lint fmt", "golangci-lint run", "hawkeye format"]

[hooks]
postinstall = [
  "gh extension install nektos/gh-act",
  "gh extension install seachicken/gh-poi",
]
