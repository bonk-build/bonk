# Copyright Â© 2025 Colden Cullen
# SPDX-License-Identifier: MIT

[settings]
experimental = true
all_compile = false

[env]
CGO_ENABLED = 1
PRE_COMMIT_HOME = "{{ env.MISE_DATA_DIR | default(value=xdg_data_home ~ '/mise') }}/pre-commit-hooks"

[tools]
# Languages
go = "1.26.0"
python = "3.14.3"
uv = "0.10.5"
buf = "1.65.0"
# Developer tools
"github:vektra/mockery" = "3.6.4"
"github:cli/cli" = "2.87.3"
"pipx:pre-commit" = "4.5.1"
golangci-lint = "2.10.1"
"github:korandoru/hawkeye" = "6.5.1"
"pipx:commitizen" = "4.13.8"
# Docs
"pipx:zensical" = "0.0.23"

[tasks]
generate.run = "go generate ./..."
build.run = "go build ./..."
test.run = "go test ./... -race -count 100 -parallel 8"
lint.run = ["golangci-lint fmt", "golangci-lint run", "hawkeye format"]

[hooks]
postinstall = [
  "gh extension install nektos/gh-act",
  "gh extension install seachicken/gh-poi",
]
